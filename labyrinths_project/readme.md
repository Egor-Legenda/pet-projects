**Основные алгоритмы создания лабиринта:**
1. **KruskalCreator** — это класс, реализующий генерацию лабиринта с использованием алгоритма Краскала. Этот алгоритм создает лабиринт, представляя его в виде графа, где каждая клетка является вершиной, а проходы между клетками — рёбрами. Класс работает с лабиринтом, представленным в виде сетки, и соединяет клетки путем добавления рёбер между несвязанными областями (компонентами) с использованием структуры данных Union-Find.

**Основные компоненты:**
* SecureRandom: Используется для генерации случайных значений для различных типов ячеек лабиринта, таких как проходы, болота или монеты.
* UnionFind: Вспомогательный класс для отслеживания соединений между ячейками в лабиринте, позволяющий эффективно объединять компоненты и предотвращать создание циклов.
* Edge: Класс, представляющий ребро между двумя ячейками. Каждое ребро соединяет две клетки лабиринта и добавляется в граф, если клетки еще не связаны.

**Описание методов:**

_init(Dot start, Dot end, int height, int width)_
Инициализирует лабиринт с заданными размерами height и width, используя алгоритм Краскала для генерации путей.

**Параметры:**
* Dot start: Начальная точка в лабиринте.
* Dot end: Конечная точка в лабиринте.
* int height: Высота лабиринта.
* int width: Ширина лабиринта.

**Возвращаемое значение:** Maze — объект лабиринта с сгенерированными путями.

_generateEdges(Maze maze, int width, int height)_
Генерирует список рёбер для лабиринта, соединяя соседние клетки. Для каждой клетки добавляются рёбра, соединяющие её с правой и нижней соседней клеткой (если они существуют).

**Параметры:**
* Maze maze: Лабиринт.
* int width: Ширина лабиринта.
* int height: Высота лабиринта.

**Возвращаемое значение:** List<Edge> — список рёбер для соединения клеток.

_toIndex(int x, int y, Maze maze)_
Преобразует координаты (x, y) в индекс массива, представляющего сетку лабиринта, для работы с UnionFind.

**Параметры:**
* int x: Координата x.
* int y: Координата y.
* Maze maze: Лабиринт.

**Возвращаемое значение:** int — индекс ячейки в массиве.

_toDot(int index, Maze maze)_
Преобразует индекс массива обратно в объект Dot, содержащий координаты x и y.

**Параметры:**
* int index: Индекс ячейки в массиве.
* Maze maze: Лабиринт.

**Возвращаемое значение:** Dot — объект с координатами x и y.

_getRandomNumber()_
Генерирует случайное значение для текущей ячейки лабиринта на основе пороговых значений. Возвращает один из предопределенных типов ячеек, таких как проход, болото или монета.

**Возвращаемое значение:** int — тип ячейки, определенный на основе случайного значения.

**Вспомогательные классы:**

* _UnionFind_
Реализует структуру данных "Объединение-Поиск" для эффективного отслеживания и объединения компонент ячеек, предотвращая циклы при соединении ячеек.

**Основные методы:**
* find(int x): Находит корневую вершину для элемента x, используя сжатие путей.
* union(int x, int y): Объединяет две компоненты, содержащие x и y, если они ещё не соединены.

* _Edge_
Класс для хранения рёбер лабиринта. Каждое ребро имеет начальную и конечную точку, которые представляют соединяемые клетки лабиринта.

Функция _getRandomNumber()_ используется для случайного определения типов клеток на пути, что добавляет разнообразие, включая клетки с монетами и болотами.

2. _DfsCreator_ — это класс для генерации лабиринта с использованием алгоритма поиска в глубину (DFS). Он реализует интерфейс CommandCreator и используется для инициализации и генерации лабиринтов, состоящих из ячеек различных типов, таких как стены, проходы, болота и монеты. Класс также использует SecureRandom для генерации случайных значений, что позволяет создавать уникальные лабиринты.

**Основные компоненты:**

* SECURE_RANDOM: Экземпляр SecureRandom, используемый для генерации случайных чисел.

* init: Метод инициализации, который создает пустой лабиринт заданных размеров и запускает алгоритм DFS для его заполнения.

* dfs: Метод, реализующий алгоритм DFS для построения лабиринта.

* countPathNeighbours: Вспомогательный метод, подсчитывающий количество соседних ячеек, которые уже являются частью пути, чтобы предотвратить циклы и слишком тесное размещение проходов.

* getRandomNumber: Метод для получения случайного значения, определяющего тип ячейки (проход, болото или монета) в лабиринте.

**Описание методов:**

_init(Dot start, Dot end, int height, int width)_
Инициализирует лабиринт заданного размера и запускает DFS для его генерации, начиная с указанной начальной точки (start) и заканчивая конечной точкой (end).

**Параметры:**

* Dot start: Начальная точка генерации лабиринта.

* Dot end: Конечная точка, где завершится генерация.

* int height: Высота лабиринта.

* int width: Ширина лабиринта.

_Возвращаемое значение:_ Maze — сгенерированный лабиринт.

_dfs(Dot start, Dot end, Maze maze)_
рекурсивно проходит по лабиринту, создавая проходы на основе алгоритма DFS и заполняя ячейки значениями, сгенерированными случайным образом.

**Параметры:**

* Dot start: Начальная точка.

* Dot end: Конечная точка.

* Maze maze: Лабиринт, в котором создаются проходы.

_Возвращаемое значение:_ Maze — сгенерированный лабиринт.

_countPathNeighbours(Dot d, Maze maze)_
Подсчитывает количество соседних ячеек, которые являются частью пути, чтобы избежать создания путей с чрезмерной плотностью проходов.

**Параметры:**

* Dot d: Точка, для которой подсчитываются соседи.

* Maze maze: Лабиринт.

_Возвращаемое значение:_ int — количество соседей, являющихся частью пути.

_getRandomNumber()_
Возвращает случайное значение для ячейки на основе предопределенных порогов (THRESHOLD_ONE и THRESHOLD_TWO). Используется для случайного выбора типа ячейки (проход, болото или монета).

_Возвращаемое значение:_ int — случайное значение, представляющее тип ячейки.

**Пример использования алгоритмы создания лабиринта:**

        Dot start = new Dot(0, 0);
        Dot end = new Dot(9, 9);
        int height = 10;
        int width = 10;
        DfsCreator dfsCreator = new DfsCreator();
        Maze maze = dfsCreator.init(start, end, height, width);

Этот пример создает лабиринт 10x10 с начальной точкой в (0,0) и конечной точкой в (9,9).

**Основные алгоритмы поиска пути в лабиринте:**
1. _BfsFinder_
    — это класс, реализующий поиск пути в лабиринте с использованием алгоритма поиска в ширину (BFS). Основное назначение класса — находить путь от начальной точки до конечной в лабиринте и вычислять его стоимость. Этот алгоритм не гарантирует нахождение наименее затратного пути, но подходит для задач поиска кратчайшего пути по количеству шагов.

**Основные компоненты:**

* BLUE_BLOCK: Константа, обозначающая блок, который будет обозначать путь.

* COAST: Массив затрат для различных типов ячеек. Индекс соответствует типу ячейки, а значение — затрате на её посещение.

**Описание методов:**

_init(Maze maze, Dot start, Dot end)_
Запускает алгоритм BFS, чтобы найти путь от начальной точки до конечной, отмечает кратчайший путь в лабиринте и вычисляет его стоимость.

**Параметры:**

* Maze maze: Объекты с двумерным списком.

* Dot start: Начальная точка поиска.

* Dot end: Конечная точка поиска.

**Возвращаемое значение:** 
Maze — лабиринт с отмеченным кратчайшим путем и установленной стоимостью.

_bfs(Dot start, Dot end, Maze maze)_
Реализует алгоритм BFS для поиска пути от точки start до точки end.

**Параметры:**

* Dot start: Начальная точка поиска.

* Dot end: Конечная точка поиска.

* Maze maze: Объекты с двумерным списком.

**Возвращаемое значение:** 
List<Dot> — список точек, представляющий путь от start до end. Если путь не найден, возвращается пустой список.

**reconstructPrice(List<Dot> dots, Maze maze)**
Вычисляет общую стоимость пути, проходя по точкам и суммируя затраты для каждой ячейки на основе значений из массива COAST.

**Параметры:**

* List<Dot> dots: Список точек, представляющий путь.

* Maze maze: Лабиринт.

**Возвращаемое значение:**
Double — стоимость пути.

_reconstructPath(Map<Dot, Dot> parent, Dot target)_
Восстанавливает путь от начальной до конечной точки, используя карту родителей для каждой посещенной точки.

**Параметры:**

* Map<Dot, Dot> parent: Карта, хранящая предшественников каждой точки на пути.

* Dot target: Целевая точка, до которой необходимо построить путь.

**Возвращаемое значение:** 
List<Dot> — список точек, представляющий путь.

_isVisitedNeighbour(Set<Dot> visited, Dot neighbour)_
Проверяет, была ли точка посещена ранее.

**Параметры:**

* Set<Dot> visited: Множество посещенных точек.

* Dot neighbour: Проверяемая точка.

**Возвращаемое значение:**
boolean — true, если точка уже посещена, иначе false.

_getValidNeighbours(Dot d, Maze maze)_
Находит допустимых соседей для текущей точки в лабиринте, используя метод CommandFinder.getValidNeighboursFinder.

**Параметры:**

* Dot d: Текущая точка.

* Maze maze: Лабиринт.

**Возвращаемое значение:** 
List<Dot> — список соседних точек.

_selectShortestPath(List<Dot> route, Maze maze)_
Создает новый объект Maze, отмечая путь в лабиринте.

**Параметры:**

* List<Dot> route: Путь, который нужно отметить.

* Maze maze: Исходный лабиринт.

**Возвращаемое значение:**
Maze — лабиринт с отмеченным путем.

2. AStarFinder — это класс, реализующий алгоритм поиска пути A* для нахождения кратчайшего пути с учетом стоимости ячеек в лабиринте. A* является одним из наиболее эффективных алгоритмов поиска кратчайшего пути, так как он учитывает как пройденное расстояние, так и предполагаемое расстояние до цели, чтобы минимизировать затраты на поиск.

**Основные компоненты:**
* COAST: Массив затрат на перемещение по различным типам ячеек лабиринта. Индекс соответствует типу ячейки, а значение — затрате на её посещение.
* BLUE_BLOCK: Константа, обозначающая тип ячейки, выделенной в лабиринте как часть пути.
* Node: Вспомогательный класс, представляющий узел для приоритетной очереди, с точками Dot, значением g (стоимость пути от начальной точки) и f (стоимость пути с учетом эвристики).

**Описание методов:**

_init(Maze maze, Dot start, Dot end)_
Инициализирует и запускает алгоритм A*, чтобы найти кратчайший путь от начальной точки start до конечной точки end, и отмечает этот путь в лабиринте с его общей стоимостью.

**Параметры:**

* Maze maze: объект с двумерным списком.
* Dot start: Начальная точка.
* Dot end: Конечная точка.

**Возвращаемое значение:** Maze — лабиринт с отмеченным кратчайшим путем и установленной стоимостью.

_astar(Dot start, Dot end, Maze maze)_
Реализует алгоритм A*, используя приоритетную очередь для выбора наилучшего следующего узла на пути.

**Параметры:**
* Dot start: Начальная точка.
* Dot end: Конечная точка.
* Maze maze: объект с двумерным списком(лабиринт).

**Возвращаемое значение:** List<Dot> — кратчайший путь от start до end. Если путь не найден, возвращает пустой список.

_heuristic(Dot a, Dot b)_
Рассчитывает эвристику (Манхэттенское расстояние) между двумя точками a и b.

**Параметры:**
* Dot a: Текущая точка.
* Dot b: Конечная точка.

**Возвращаемое значение:** double — эвристическое значение, представляющее расстояние между a и b.

_distance(Dot b, Maze maze)_
Возвращает стоимость перемещения в точку b в зависимости от типа ячейки в лабиринте.

**Параметры:**
* Dot b: Текущая точка.
* Maze maze: Лабиринт.

**Возвращаемое значение:** double — стоимость перемещения.

_reconstructPath(Map<Dot, Dot> parent, Dot target)_
Восстанавливает найденный путь от начальной до конечной точки, используя карту родителей.

**Параметры:**
* Map<Dot, Dot> parent: Карта, хранящая предшественников каждой точки на пути.
* Dot target: Целевая точка.

**Возвращаемое значение:** List<Dot> — путь от начальной точки до целевой.

_reconstructPrice(List<Dot> dots, Maze maze)_
Вычисляет полную стоимость пути, суммируя затраты для каждой ячейки на основе массива COAST.

**Параметры:**
* List<Dot> dots: Список точек, представляющий путь.
* Maze maze: Лабиринт.

**Возвращаемое значение:** Double — полная стоимость пути.

_getValidNeighbours(Dot d, Maze maze)_
Находит допустимых соседей для текущей точки в лабиринте, используя метод CommandFinder.getValidNeighboursFinder.

**Параметры:**
* Dot d: Текущая точка.
* Maze maze: Лабиринт.

**Возвращаемое значение:** List<Dot> — список соседних точек.

_selectShortestPath(List<Dot> route, Maze maze)_
Создает новый объект Maze, отмечая найденный путь в лабиринте.

**Параметры:**
* List<Dot> route: Путь, который необходимо отметить.
* Maze maze: Исходный лабиринт.

**Возвращаемое значение:** Maze — лабиринт с отмеченным путем.

**Пример использования:**

        List<List<Integer>> mazeGrid = ...; 
        Dot start = new Dot(0, 0);
        Dot end = new Dot(5, 5);
        BfsFinder bfsFinder = new BfsFinder();
        Maze mazeWithPath = bfsFinder.init(mazeGrid, start, end);
        System.out.println("Цена: " + mazeWithPath.getCost());

В этом примере BfsFinder используется для поиска пути от точки (0, 0) до (5, 5) в лабиринте.
